@page
@model WARazorDB.Pages.DeleteModel

@{
    ViewData["Title"] = "Eliminar Tarea";
}

<h1 class="tareas-title">Eliminar Tarea</h1>

<div class="page-content">
    <div class="alert alert-warning mb-4">
        <div class="d-flex">
            <div class="me-3">
                <i class="fas fa-exclamation-triangle fa-2x" style="color: var(--secondary-color)"></i>
            </div>
            <div>
                <h5 class="alert-heading">¿Está seguro que desea eliminar esta tarea?</h5>
                <p class="mb-0">Esta acción no se puede deshacer. La tarea se eliminará permanentemente del sistema.</p>
            </div>
        </div>
    </div>
    
    <div class="card mb-4 border-0">
        <div class="card-header" style="background-color: var(--secondary-color); color: white;">
            <h5 class="mb-0">Información de la Tarea</h5>
        </div>
        <div class="card-body">
            <table class="table">
                <tbody>
                    <tr>
                        <th style="width: 200px;">
                            <i class="fas fa-tag me-2" style="color: var(--secondary-color)"></i>
                            Nombre
                        </th>
                        <td>
                            <strong>@Model.Tarea.nombreTarea</strong>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <i class="fas fa-calendar-alt me-2" style="color: var(--secondary-color)"></i>
                            Fecha de Vencimiento
                        </th>
                        <td>@Model.Tarea.fechaVencimiento.ToString("dd/MM/yyyy")</td>
                    </tr>
                    <tr>
                        <th>
                            <i class="fas fa-info-circle me-2" style="color: var(--secondary-color)"></i>
                            Estado
                        </th>
                        <td>
                            @{
                                string badgeClass = "";
                                
                                switch (Model.Tarea.estado.ToLower())
                                {
                                    case "pendiente":
                                        badgeClass = "badge bg-warning";
                                        break;
                                    case "en curso":
                                        badgeClass = "badge bg-info";
                                        break;
                                    default:
                                        badgeClass = "badge bg-warning";
                                        break;
                                }
                            }
                            <span class="@badgeClass">@Model.Tarea.estado</span>
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <i class="fas fa-user me-2" style="color: var(--secondary-color)"></i>
                            ID Usuario
                        </th>
                        <td>@Model.Tarea.idUsuario</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="d-flex justify-content-center">
        <form method="post" class="d-flex gap-3">
            <input type="hidden" asp-for="Tarea.Id" />
            <a asp-page="./Index" class="btn btn-outline-secondary" style="min-width: 150px;">
                <i class="fas fa-times me-2"></i>Cancelar
            </a>
            <button type="submit" class="btn btn-danger" style="min-width: 200px; background-color: var(--dark-purple); border-color: var(--dark-purple);">
                <i class="fas fa-trash-alt me-2"></i>Eliminar Tarea
            </button>
        </form>
    </div>
</div>
